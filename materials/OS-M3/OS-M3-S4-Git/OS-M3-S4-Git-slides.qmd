---
title: "Introduction to version control with Git in RStudio"
author: "LMU Open Science Center"
date: "today"
date-format: "DD/MM/YYYY"
format: 
  revealjs:
    css: ../../../slides-custom.css
    footer: LMU Open Science Center
    slide-number: true
    logo: ../../../OSC_FORRT_Logo.png
  pdf:
    geometry: 
      - top=30mm
      - left=30mm
  #pptx:
    #incremental: true 
    #reference-doc: template.pptx


execute:
  echo: true
  eval: true
  engine: knitr
---


## Contribution statement and licence

<br>

**Creator**: Von Grebmer zu Wolfsthurn, Sarah (![ORCID Logo](https://orcid.org/sites/default/files/images/orcid_16x16.png)[ 0000-0002-6413-3895](https://orcid.org/0000-0002-6413-3895))

**Reviewer**: Name, first name (![ORCID Logo](https://orcid.org/sites/default/files/images/orcid_16x16.png)orcid)

**Consultant**: Name, first name (![ORCID Logo](https://orcid.org/sites/default/files/images/orcid_16x16.png)orcid)


<div style="background-color: #f0f0f0; padding: 0.1em; border-radius: 5px; font-size: 0.6em;">
This work was originally created by [Mike Croucher ](https://github.com/mikecroucher) under a CC-BY-SA 4.0 [Creative Commons Attribution 4.0 International License](https://creativecommons.org/licenses/by-sa/4.0/deed.en). It was subsequently adapted by [Malika Ihle](https://www.osc.uni-muenchen.de/about_us/coordinator/index.html) during her time at Reproducible Research Oxford. This current work by Sarah von Grebmer zu Wolfsthurn, Sara Lil Middleton and Malika Ihle  is licensed under a CC-BY 4.0 [Creative Commons Attribution 4.0 International License](https://creativecommons.org/licenses/by/4.0/deed.en).
</div>


::: {.notes}
**Speaker Notes**: These are the **speaker notes**. You will a script for the presenter for every slide. In presentation mode, your audience will not be able to see these speaker notes, they are only visible to the presenter. 

**Instructor Notes**: There are also **instructor notes**. For some slides, there will be pedagogical tips, suggestons for acitivities and troubleshooting tips for issues your audience might run into. You can find these notes underneath the speaker notes.

**Acessibility Tips**: Where applicable, this is a space to add any tips you may have to facilitate the accessibility of your slides and activities. 
:::

---

## Prerequisites

::: {.callout-important}
Before completing this submodule, please carefully read about the prerequisites.
:::

<br>

<div style="font-size: 0.7em;">
| Prerequisite   |  Description  | Link/Where to find it   |
|------------|------------|------------|
| Basic R skills | Introduction to R - Part I | Module + Submodule |
| Advanced R skills | Introduction to R - Part II | Module + Submodule |
| Basic Git | Git Introductory video | Watch video at [https://osf.io/dcqt9](https://osf.io/dcqt9) |
| GitHub account | Free account for GitHub | Join at [https://github.com/join](https://github.com/join) |
</div>

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: These are the prerequisites for this submodule. Before you get started on this submodule with your audience, you need to ensure that the audience fulfills these criteria. Outline any essential prerequisites (software, tools, other submodules etc.) here in table format. If you prefer bullet points to list the prerequisites, delete the table and use bullet points instead. 
:::

---

## Questions from the previous submodule

<br>
<br>

<div style="background-color: #f0f0f0; padding: 0.1em; border-radius: 5px; font-size: 1em; text-align: center;">

Any remaining questions about the most recent content and/or practical exercises?

</div>

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**:  This first slide is dedicated to clarifying questions from the previous submodule and/or to discuss assignments. 
- Additional slides may need to be added depending on the nature of the homework assignments. 
- Critical for the learning process to ensure that students are on the same page and have been able to achieve the learning goals of the previous workshop. 
- Not applicable if this set of slides corresponds to the first submodule of a new module. 
:::

---

## Before we start: Survey time!

![](images/01_QR_Code_Start_OS-M3-S4-Git.png){fig-align=center}

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**: The pre-submodule survey serves to examine students' prior knowledge about version control and related concepts.
:::

---

**What is your level of familiarity with version control?**

a. I have never heard of it before.

b. I have heard of it but have never worked with it.

c. I have a basic understanding and  some experience with it.

d. I am very familiar and have worked with it extensively.

---

**Which of the following concepts or skills do you feel most confident about in relation to version control? (Select all that apply)**

a. Git

b. GitHub

c. Repositories

d. RStudio Project

e. I am not sure about any of these concepts.

---

**On a scale of 1 to 5, how comfortable are you with using Git for version control? (1 = Not comfortable at all, 5 = Very comfortable)**

a. 1

b. 2

c. 3

d. 4

e. 5

---

## Discussion of survey results

<br>

<div style="background-color: #f0f0f0; padding: 0.1em; border-radius: 5px; font-size: 1em; text-align: center;">

What do we see in the results?

</div>

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim"**: Briefly examine the answers given to each question interactively with the group.
- Use visuals from the survey to highlight specific answers.
:::

---

## Where are we at?

**Previously**:

-  Familiarization with the basics of R
-  More advanced R skills: data manipulation, reshaping, functions, plotting etc.
-  Using R for your own scientific work

<div style="background-color: #f0f0f0;">
**Up next**:

- Enhancing reproducibility and accountability
- Facilitating cross-discipline collaboration
- Increasing transparency for validating and reproducing results
</div>


::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**: Place the topic of the current submodule within a broader context.
- Remind students what you are working towards and what the bigger picture is.
:::

---

## Covered in this session

- Installing and configuring Git
- Version control with Git from within RStudio
- Reproducible workflows with RStudio Projects
- Backing up your work on the GitHub server

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: ADD here. 
:::

---

## Learning goals

- **Install** and **configure** Git 
- **Set up** the connection between your computer and GitHub
- **Create** an RStudio Project under version control for a reproducible
- **Make** changes within RStudio and **commit** changes locally
- **Connect** local and remote repositories for your work
  
::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**: Formulate specific, action-oriented goals learning goals which are measurable and observable in line with Bloom's taxonomy (Anderson et al., 2001; Bloom et al., 1956)
- Place an emphasis on the **verbs** of the learning goals and choose verbs that align with the skills you want to develop or assess.
- Examples: 
  - Students will **describe** the process of photosynthesis or
  - Students will **construct** a diagram illustrating the process of photosynthesis
:::

---

## Key terms and definitions

- **Reproducible workflows**: Structured process ensuring that the methods can be consistently replicated by others using the same approach, data and tools
- **RStudio Project**: A way to store all files related to one R project in one place (R scripts, files, workspace, history ..) 
- **Version control**: System that records changes to files over time
- **Git**: Version control system that tracks and manages changes to files and code
- **GitHub**: Cloud-based version control platform for hosting Git repositories which includes collaboration features
- **Repositories**: Git terminology for a storage space for all project files tracked by Git

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Base yourself on conceptual change theory and examine existing concepts in relation to some key terms. Re-examine the formation of new concepts at the end of the lesson. 
:::

---

## Git: What is it?

**Git** is a free and **open source software**. With Git, you can: 

- **Track changes** to files across directories over time, seeing what was changed, when and by whom
- **Collaborate** efficiently within a team as multiple people can work on the same directories

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## GitHub: What is it?

**GitHub** is a **cloud-based version control platform** that uses Git to track changes an hosts Git repositories.

- Allows multiple people to **collaborate** on the same project
- Collaborators can **share** repositories, code etc. and ask for **feedback**, initiate discussions and point out bugs and issues
- GitHub **stores** all files remotely, making it accessible from anywhere

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## The Git - GitHub workflow

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/GitHub-remote.png){fig-align="center" width=600 fig-alt="Git - GitHub workflow"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Installing Git: Windows

To install Git on Windows: 

- Download Git from [http://git-scm.com/downloads]( http://git-scm.com/downloads) 
- Download and run .exe file
- Accept all the default settings and keep clicking ‘next’

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Installing Git: MacOS

To install Git on MacOS: 

- Download Git from [http://git-scm.com/downloads]( http://git-scm.com/downloads) 
- Select  first option suggesting to install git through installing homebrew
- Paste the line of command provided in their instructions in your terminal
- Accept the prompts appearing the terminal

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Installing Git: Ubuntu

To install Git on Ubuntu: 

- Paste the following line into your terminal:

```{text}
sudo apt-get install git-core
```

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Configuring Git

**Step 1**: By default, Git is used through the **command line** interface, but can be used through RStudio (later in this session).

- **Windows**: Open Git Bash (start menu > *Git Bash*)
- **MacOS**: Open the *Terminal app*
- **Linux**: Open your distribution’s *terminal emulator*

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Configuring Git


**Step 2**: Next, enter the following commands with your email one after the other (hitting ENTER after each command):

```{text}
git config --global user.email "you@youremail.com"
git config --global user.name "Your Name"
```
::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: On successful execution, students should see no output from these commands.  
:::

---

## Securing the connection between your computer and GitHub

You need to identify yourself and your machine to GitHub before interacting with GitHub repositories.

- **SSH keys** are a common way to manifest your identification to GitHub

::: {.callout-important}
**SSH keys** come in pairs, a public key that gets shared with services like GitHub, and a private key that is stored only on your computer. If the keys match, you’re granted access. Setting up the SSH key has to be executed once per GitHub account and for **each** computer you will use to connect to GitHub. 
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.   
:::

---

## Checking for existing SSH key pair

**Step 1**: Before generating a new SSH key pair, check for existing key in your .ssh directory.

- **Windows**: Open Git Bash (start menu > Git Bash)
- **MacOS**: Open Terminal App
- **Linux**: Open your distribution’s (or any other) terminal emulator

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.   
:::

---

## Checking for existing SSH key pair

**Step 2**: Enter the following command to list the content of the ssh directory:

```{text}
ls ~/.ssh
```

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: On successful execution, students should see no output from these commands.  
:::

--- 

## Checking for existing SSH key pair

**Step 3**: If there are existing ssh keys, they are named one of the following: 

```{text}
id_rsa.pub
id_ecdsa.pub
id_ed25519.pub
```
::: {.callout-important}
If you already have an SSH key pair, you can skip the section on how to generate a new SSH key pair. If you don’t have an existing public and private key pair (which is to be expected!), or if you receive an error that ~/.ssh doesn’t exist, that this file location doesn’t exist, or that you can’t access this folder, go ahead and generate a new SSH key pair.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: On successful execution, students should see no output from these commands.  
:::

---

## Generating a new SSH key pair

**Step 1**: In the command line, type the following (replacing the email here with your *own* email) to create a new SSH key pair with your email as a label:

```{text}
ssh-keygen -t ed25519 -C "your_email@email.com"
```

::: {.callout-tip}
Pay close attention to spacing and capital letters while typing. 
:::


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add.  
:::

---

## Generating a new SSH key pair

**Step 2**: When prompted to *Enter a file in which to save key*, press ENTER to accept the default file location. That should give you this prompt:

```{text}
Generating public/private ed25519 key pair.  
Enter file in which to save the key (/Users/username/.ssh/id_ed25519):
```

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: On successful execution, students should see no output from these commands.  
:::

---

## Generating a new SSH key pair

**Step 3**: Next, you are asked to provide a passphrase in the terminal. Protecting your keys with a password is optional but highly recommended. Press ENTER after confirming your password. 

```{text}
Enter passphrase (empty for no passphrase):  
Enter same passphrase again:
```

::: {.callout-warning}
When you type passwords in the command line, **nothing** is displayed, you are however still typing in the background.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: On successful execution, students should see no output from these commands.  
:::

---

## Generating a new SSH key pair

**Step 4**: When the key generation is complete, you should see the  confirmation below. 


```{.small-text}
Your identification has been saved in /Users/username/.ssh/id_ed25519.
Your public key has been saved in /Users/username/.ssh/id_ed25519.pub.
The key fingerprint is:
SHA256:6nr/zo0g7Bz7WMRwy34maBhQy1UZyX47gT+egRdlIhs your_email@email.com
The key's randomart image is:
+--[ED25519 256]--+
|    .o++         |
|   o oF . o      |
|  . o+ =.+.      |
|   .  + += .     |
|    .  +S++      |
|   . ..oB=       |
|    . ++*=.      |
|     o.==* o     |
|    .o.o+** .    |
+----[SHA256]-----+
```


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: On successful execution, students should see no output from these commands.  
:::

---

## Generating a new SSH key pair

::: {.callout-note}
**Done!** You have successfully **generated your public SSH key**.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: ADD
:::

---

## Adding the SSH key to GitHub account

**Step 1**: Tell GitHub about your new public key. In the terminal, please hit ENTER after typing: 

```{text}
cat ~/.ssh/id_ed25519.pub
```

::: {.callout-important}
Be careful: do not copy the content of your *private* key, but your **public** key. Your public key ends with .pub.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding the SSH key to GitHub account

**Step 2**: The output should be something like:

```{text}
# The output looks like this. The characters after ssh-ed25519 will be different for you, however.
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIFEKiimOpcayfHhlbjmnIBAUX74FY/o20k9yFA16XOLm your_email@email.com
```

<br>

::: {.callout-warning}
Copy the contents of the output to your clipboard.
:::


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here. 
:::

---

## Adding the SSH key to GitHub account

**Step 3**: 

- Login to [github.com](github.com)
- Navigate to your account settings by clicking on your profile photo (top right) and selecting Settings
- Click on SSH and GPG keys (left sidebar)
- Click on the green button ‘New SSH key’ or ‘Add SSH key’.

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding the SSH key to GitHub account

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/ssh-key.png){fig-align="center" width=600 fig-alt="Add SSH key"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here. 
:::

---

## Adding the SSH key to GitHub account

**Step 4**: 

- In the “Title” field, add a descriptive label for the new key, e.g. something that would identify the device you just connected
- For example, if you’re using a personal laptop, you might call this key “Personal MacBook Air”. 
- Paste the contents of your clipboard into the Key text box
- Hit the green ‘Add key’ button to save. Enter your GitHub password if prompted.

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/add-ssh-key.png){fig-align="center" width=600 fig-alt="Add SSH key"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.   
:::

---

## Adding the SSH key to *ssh-agent*

Managing your ssh keys is done via the [ssh-agent](https://smallstep.com/blog/ssh-agent-explained/) software.

::: {.callout-note}
Depending on your system, the following might not be necessary. On most GNU/Linux distributions, your key will be automatically added to the ssh-agent after the first time you enter it. If you keep getting asked for your key each time you want to clone or push to a GitHub repository, you can follow the  instructions on the next slides.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding the SSH key to ssh-agent

**Step 1**: In the command line, start the ssh-agent with this command: 

```{text}
eval "$(ssh-agent -s)"
```

This should give you this:

```{text}
Agent pid 59566
```

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding the SSH key to ssh-agent

**Step 2**: Add your key to the ssh-agent by typing the entirety of this command:

```{text}
ssh-add ~/.ssh/id_ed25519
```

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Testing the GitHub connection

**Step 1**: “Ask” GitHub at the command line if our connection is acceptable with the following code:

```{text}
ssh -T git@github.com
```

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

--- 

## Testing the GitHub connection

**Step 2**: When asked about *fingerprinting*, type *yes*, then press ENTER to receive this output: 

```{text}
> Hi USERNAME! You've successfully authenticated, but GitHub does not
> provide shell access.
```

<br>
<br>

::: {.callout-important}
This is it! You have set up a new SSH key pair and successfully let GitHub know your identity to connect your computer to your GitHub account. These steps will only have to be repeated when you change computers. Let the fun begin!
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## RECAP: Setting up Git and GitHub

**What have we done so far?**

ADDD

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Pre-break survey

Brief check-in: **Your Turn!**

ADDD QR CODE AND LINKS

::: {.notes}
**Speaker Notes**: Script for the slide here.
**Instructor Notes**: <br>
- **Aim**: This pre-break survey serves to examine students' current understanding of key concepts of the submodule
- Use free survey software such as particify or formR to establish the following questions (shown on separate slides)
:::

---

**What is the main purpose of using Git in a project?**

a. To edit code directly on GitHub

b. To automatically test and debug programs

c. To track changes and collaborate on code with version control

d. To back up files to the cloud without version history


::: {.notes}
**Speaker Notes**: Script for the slide here.
**Instructor Notes**: C is the correct answer: Git is a version control system that helps you track changes, manage versions, and collaborate with others on the same project safely.
:::

---

**Why do we add an SSH key to our GitHub account when setting up Git?**

a. To store our Git username and password on the computer

b. To allow our computer to connect securely to GitHub without entering a password each time 

c. To make Git automatically commit our changes

d. To enable GitHub to edit our files directly on our computer


::: {.notes}
**Speaker Notes**: Script for the slide here.
**Instructor Notes**: B is the correct answer: Adding an SSH key lets your computer authenticate with GitHub securely, so you can push and pull code without typing your password every time.
:::

---

# Break! 15 minutes

---

## Post-break survey discussion


::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**: To clarify concepts and aspects that are not yet understood. Highlight specific answers given during the survey
:::

---


## RStudio Project: What is it?

**Local folder** used to organize your work within a self-contained R storage.

- Contains all files related to project: R scripts, source files, location of the R working directory, RStudio workspace ...
- Includes shortcut to open the project directly in RStudio

::: {.notes}
**Speaker notes**: <br>
- Projects simplify working with multiple files
- A project is a folder on your computer that contains all files related to a specific analysis project and a shortcut that allows you to open the project directly in RStudio.
**Instructor Notes**: <br>
:::

---

## Creating an RStudio Project

**Step 1**: Create a new project in RStudio as follows: *File -> New Project -> New Directory*

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/project_screen1.png){fig-align="center" width=600 fig-alt="Create RStudio Project"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Creating an RStudio Project

**Step 2**: In the New Project Wizard screen, click on **New project**:


![](assets/01_create_new_Rproject.png){fig-align="center"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Creating an RStudio Project

**Step 3**: Give your project a name (e.g.’my_first_test_repo’) and ensure that create a git repository is ticked. Next, click on **Create Project**.

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/project_screen3.png){fig-align="center" width=700 fig-alt="Create new repo"}

::: {.callout-note}
RStudio will create a new folder containing an empty project and set R’s working directory to within it.
:::


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Creating an RStudio Project: Important files

Two files are created in the otherwise empty project:

- **.gitignore**: Specifies files that should be ignored by the version control system (e.g. sensible data files that should not be made public, or documentation that you don’t need version controlled).
- **my_first_test_repo.Rproj**:  Configuration information for the RStudio project.

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/project_files.png){fig-align="center" width=600 fig-alt="Project files"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Setting up a small practice project

We will now generate a small project to practice version control on. 

<br>

**Step 1**: Download dataset to practice analyses on.

<div style="text-align:center;">
  <a href="assets/example_data.csv" download>
    <button style="padding:10px 20px; border:none; border-radius:8px; background:#007ACC; color:white; font-size:20px; cursor:pointer;">
      ⬇️ Download dataset (.csv)
    </button>
  </a>
</div>


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Setting up a small practice project

**Step 2**: Create a new R script *File -> New File -> R script* and save it as *myscript.R. Then add the  code below to your R script.

```{text}
mydata = read.csv("example_data.csv")
plot(mydata$xdata,mydata$ydata)
```

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Setting up a small practice project

**Step 3**: Run the code and check your directory. It should now contain four files: 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/file_list.png){fig-align="center" width=600 fig-alt="Directory files"}


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Getting your project under version control

**Step 1**: Find the git version control pane in the top right corner of RStudio in the *Git* tab. 


![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/git_pane.png){fig-align="center" width=600 fig-alt="Git pane"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Getting your project under version control

**Step 2**: Hover the mouse pointer over the yellow ? marks in GitHub, you’ll see a tooltip telling us that the file is **untracked**. This means that git is not tracking versions of this file. Tick **staged** for each file. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/git_pane_added.png){fig-align="center" width=600 fig-alt="Git staging"}


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Getting your project under version control

**Step 3**: Our staged files are now ready for the first **commit**. Click on the **commit button**. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/commit.png){fig-align="center" width=500 fig-alt="Git commit"}


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Getting your project under version control

**Step 4**: Specify a **commit message**, which is a brief description of the changes you made. For now, we will add the commit message  *First commit*. Then click on **Commit**. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/first_commit.png){fig-align="center" width=600 fig-alt="First commit"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Getting your project under version control

**Step 5**: Check the message from git and then click on close - finished! 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/git_commit_message.png){fig-align="center" width=600 fig-alt="Git feedback"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Making changes

Now we want to make some actual changes to practise using Git and to show how Git handles modifications of files. <br>

**Step 1**: Add the following code to your existing R script

```{text}
# some guesses for the parameters.
p1 = 1
p2 = 0.2

# do the fit
fit = nls(ydata ~ p1*cos(p2*xdata) + p2*sin(p1*xdata), data = mydata, start = list(p1=p1,p2=p2))

#Plot the fitted line
new = data.frame(xdata = seq(min(mydata$xdata),max(mydata$xdata),len=200))
lines(new$xdata,predict(fit,newdata=new))
```


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Making changes

**Step 2**: Change the command that plots our data in this file. 

<br>

Change the line

```{text}
plot(mydata$xdata,mydata$ydata)
```

to 

```{text}
plot(mydata$xdata,mydata$ydata,col='red')
```

and run this code. 

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Making changes

**Step 3**(optional): Create another R file with *File -> New File -> R script*. Save as *myscript_version2.R*. Then add and run the code below in the new R script: 

```{r simulate}
#Simulate some data
plot(rnorm(100,0,1))
```

 
::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Committing changes

Click on the **git** tab in the top right corner. Two files appeared, the script we modified and the new script.

<br>

**Step 1**: Click on the **staged** box to stage changes for the *first* script.


![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/git_changed.png){fig-align="center" width=600 fig-alt="git stage"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Committing changes

**Step 2**: Click on **Diff** for a reminder summary of what changed. Then add a commit message and click *commit*. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/git_diff.png){fig-align="center" width=600 fig-alt="git difference"}

::: {.callout-important}
Lines that have been added are green. Lines that have been removed are red.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Practical exercise 1

- [ ] Stage the second script and write a new commit message. 
- [ ] In the git tab, press the **History** button to review the change and commit history of your files. 


::: {.callout-note}
By default, the history search feature will show all files added, changed, or deleted for each commit. This can be extremely useful for finding bugs or looking back to how your project looked a few months ago. However, it is often more practical to review the changes made to a single file over time; this enables, for example, clear tracking of the evolution of data cleaning and analysis steps in your project.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Connecting the local repository to GitHub

The project is under version control. Time to create a new GitHub repository and upload to GitHub!

<br>

**Step 1**: Log into GitHub and go to your profile page. On the **repositories** tab, click **New**. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/new_repo.png){fig-align="center" width=600 fig-alt="new GitHub repository"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Connecting the local repository to GitHub

**Step 2**: Give the repository a name and click **Create Repository**. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/new_repo_name.png){fig-align="center" width=200 fig-alt="new GitHub repository"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Connecting the local repository to GitHub

**Step 3**: Configure the repository in the **Quick Setup** screen.
Select the **SSH** tab and make sure the  url shown in the blue box should start with git@github.com. 

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Connecting the local repository to GitHub

**Step 4**: Copy the commands from the *or push an existing repository from the command line* to your clipboard with the GitHub copy button. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/github_git_commands.png){fig-align="center" width=200 fig-alt="quick setup GitHub"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Connecting the local repository to GitHub

**Step 5**: Go to RStudio, navigate to the **git** tab and Click on *More > New Terminal*. 

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/git_more_shell.png){fig-align="center" width=200 fig-alt="RStudio new terminal"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Connecting the local repository to GitHub

**Step 6**: Paste the git commands from your clipboard into the terminal and press enter to execute them. Insert your SSH key password if prompted or type 

```{text}
yes
```
when a sentence about continuing to connect appears in the terminal.

![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/first_push_confirm_identity.png){fig-align="center" width=200 fig-alt="Confirm connection with GitHub"}


## Connecting the local repository to GitHub

**Step 7**: Check that your local repository with your RStudio Project appears on your GitHub profile (please refresh the page once).

::: {.callout-note}
You only need to upload your local repository once to GitHub. In the subsequent section, we explain how to sync (or **push**) your local changes in your RStudio project with the remote repository you just created on GitHub.
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Making changes: Adding a README to your RStudio Project

Imagine that as a follow-up step, we want to add a README file to the RStudio project folder. 

<br>

::: {.callout-note}
A README file is a short document that explains what your R project is about and can be viewed as a sort of *Welcome Guide*. It usually includes things like:

- What the project does
- Who made it
- What files or data are included
- How to use or run the code
- Any special setup or packages needed 
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding a README to your RStudio Project

**Step 1**: In RStudio, click on *File > New File > Text File*. Add the following text to the file and save it as **Readme.md**:

```{text}
# My Example Repo

This repo is used to demonstrate GitHub to users of R and R Studio.
```
::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding a README to your RStudio Project

**Step 2**: In the **git** tab, you should see the new **Readme.md** file (and only that one!). Stage the file and press **commit**. 


![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/staged_readme.png){fig-align="center" width=200 fig-alt="Staged README file"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding a README to your RStudio Project

**Step 3**: Add a new commit message and press **Commit** in the bottom right corner.


![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/readme_commit.png){fig-align="center" width=200 fig-alt="Commit README file"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Adding a README to your RStudio Project

**Step 4**: **Push** the changes to upload to GitHub by pressing the button in the top right corner with the green arrow pointing upwards.


![](https://raw.githubusercontent.com/lmu-osc/Introduction-RStudio-Git-GitHub/main/assets/git_push.png){fig-align="center" width=200 fig-alt="Push README file"}

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## When to stage and commit?

::: {.callout-important}
**Great question!** The point of version control is to have a **track record** of changes and that you can undo/redo any changes at any time. Therefore, you should stage and commit your changes to version control whenever you finished a clear, logical "unit", e.g.:

- Added a code chuck or function
- Cleaned your dataset
- Created a new figure
- Updated a paragraph
:::


::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## RECAP: Version control in RStudio with Git

**What have we done so far?**

- We created an RStudio Project in a local repository
- We created files for the project (code, downloaded data etc.)
- Added version control to our project in the local repository
- Made changes and commit these changes locally
- Connected the local repository with a remote repository
- Synchronised ( = *pushed* ) the local changes to the remote repository

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## OVERVIEW: The Git/GitHub workflow

Once you have brought your local repository under version control and connected the remote repository, you will find yourself repeating the same steps over and over: 


::: {.callout-important}
1. Make changes locally
2. Stage changes locally
3. Commit changes locally with a commit message
4. Push local changes to the remote repository on GitHub
:::

::: {.notes}
**Speaker Notes**: Add script for slide here. 
**Instructor  Notes**: Add here.  
:::

---

## Why is version control important and useful?


- **Tracks** every change in your R project and acts as a “time machine” for your code/files

- **Makes mistakes easy to fix** because you can revert to earlier versions anytime

- **Improves reproducibility** by seeing what changed, when, and why

- **Provides a backup via GitHub** for easy sharing and access anywhere

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**: To work out the relevance of the topic to your students.
- In an interactive setting, discuss how the new skills could be applied in practise with specific examples.
- Examine downfalls and practical obstacles.
:::

---

## Assignment: Practising the workflow

1. In a new local folder, create a new RStudio Project named **git_practice**.


2. Download the practise_data.csv file and save it in your project folder

<div style="text-align:center;">
  <a href="assets/practise_data.csv" download>
    <button style="padding:10px 20px; border:none; border-radius:8px; background:#007ACC; color:white; font-size:20px; cursor:pointer;">
      ⬇️ Download dataset for the assignment
    </button>
  </a>
</div>

::: {.callout-tip}
When creating the new RStudio project, make sure to check “Create a git repository”.
:::

::: {.notes}
**Speaker Notes**: Script for the presentation here. 
**Instructor Notes**: <br>
- **Aim**: Explain the homework assignment and the rationale behind the homework.
- Examine whether/how it will be assessed
- Mention scoring rubrics, if applicable
- Design a peer-review system for assignments to place students in role of reviewer and author
:::

---


## Assignment: Practising the workflow

3. Create a new R script and write code to:
- read data
- inspect the data
- obtain summary statistics for the data

4. Stage and commit changes
5. Create a new repository on GitHub and connect it with your new local repository
6. Push your changes to GitHub
7. Add a scatterplot to your code
8. Stage and commit your changes and push to GitHub


::: {.notes}
**Speaker Notes**: Script for the presentation here. 
**Instructor Notes**: Students should demonstrate: <br>
- A working Git-enabled RStudio project <br>
- A clear commit history showing each logical step <br>
- The final project pushed to GitHub (if possible) <br>

Example code:

```{text}
data <- read.csv("data.csv")
head(data)
summary(data)
plot(data$xdata, data$ydata, 
     main = "Simple Scatterplot", 
     xlab = "xdata", 
     ylab = "ydata")

```

:::


---


## Take-home message

**What are you taking away from today?**

::: {.callout-tip}
## Tip with Title
It is all about practise until you develop a routine - keep practising!
:::

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**: End lesson on clear take-home message that are interactively compiled by students.
:::

---

## To conclude: Survey time!


::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim**: This post-submodule survey serves to examine students' current knowledge about the sumodule's topic.
- Use free survey software such as  particify or formR to establish the following questions (shown on separate slides)
- Use identical questions as in the pre-submodule survey to be able to directly compare
:::

---

**What is your level of familiarity with version control?**

a. I have never heard of it before.

b. I have heard of it but have never worked with it.

c. I have basic understanding and experience with it.

d. I am very familiar and have worked with it extensively.

---

**Which of the following concepts or skills do you feel most confident about in relation to version control? (Select all that apply)**

a. Git

b. GitHub

c. Repositories

d. RStudio Project

e. I am not sure about any of these concepts.

---

**On a scale of 1 to 5, how comfortable are you with using Git for version control? (1 = Not comfortable at all, 5 = Very comfortable)**

a. 1

b. 2

c. 3

d. 4

e. 5

---

## Discussion of survey results

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: <br>
- **Aim"**: Briefly examine the answers given to each question interactively with the group.
- Use visuals from the survey to highlight specific answers.
:::

---

## Help and support

If you get stuck, there is plently of help available:

- [**Using Git with RStudio**](https://jennybc.github.io/2014-05-12-ubc/ubc-r/session03_git.html) for an introductory overview
- [**Git Guides on staging and committing**](https://github.com/git-guides/git-commit) for an overview of the workflow
- [Git and GitHub learning resources](https://docs.github.com/en/get-started/start-your-journey/git-and-github-learning-resources) for free interactive courses built in GitHub
- [Git Cheatsheet](https://education.github.com/git-cheat-sheet-education.pdf) featuring tips on installation, setup, staging, committing and pushing
- [The LMU OSC RStudio/Git tutorial](https://lmu-osc.github.io/Introduction-RStudio-Git-GitHub/updates.html) for similar exercises and advanced materials

::: {.notes}
**Speaker Notes**: Script for the slide here. 
**Instructor Notes**: Highlight particularly relevant resources for your students in bold. 
:::

---

# Thanks! <br>
See you next class :)

---

## Pedagogical add-on tools for instructors

- This section is dedicated to ideas on how to incorporate pedagogical tools into teaching for this specific submodule topic. This could mean:
  - Information about the scientific evidence on the theory of the pedagogical add-on tool and the evidence for its efficacy.
  - Discussion/reflection on how tools can be incorporated into the teaching for this particular content.
  - Extra exercises for faster students.	

---

## Additional literature for instructors

- References for content
- References for pedagogical add-on tools	
- Other resources (videos etc.)	

---

## Contribution Statement

Possible roles using the CRediT contribition system or the Zenodo Contribution System: 

**Name main content creator**: Conceptualization, Software, Writing - Original Draft, Visualization. **Sara Lil Middleton**: Writing - Review & Editing, Supervision. **Sarah von Grebmer zu Wolfsthurn**: Conceptualisation, Writing - Review & Editing, Supervision, Project Administration, Validation.

---
